var BitMEX = require('bitmex');

// Either pass your API key and secret as the first and second parameters to examples.js. eg
// node examples.js your-api-key your-api-secret
//
// Or enter them below.
// WARNING never commit your API keys into a public repository.
var key = process.argv[2] || 'your-api-key';
var secret = process.argv[3] || 'your-api-secret';

var client = new BitMEX(key, secret);

// Create an API Key
// client.createAPIKey(logResponse, 'Test API Key');

// Get API Keys
// client.getAPIKeys(logResponse);

// Remove API Keys
// client.removeAPIKey(logResponse, 'someAPIKeyID');

// Disable API Key
// client.disableAPIKey(logResponse, 'someAPIKeyID');

// Enable API Key
// client.enableAPIKey(logResponse, 'someAPIKeyID');


// Login 
client.userLogin(logResponse, 'emailaddress', 'password'); 

// Get Chat Messages
client.getChatMessages(logResponse, 10, 1, true);

// Send Chat Message
client.sendChatMessage(logResponse, 'Hello This is a Test Message');

// Get Users Connected to Chat.
client.getConnectedUsers(logResponse);

// Get Execution 
client.getExecution(logResponse, 'XBT');

// Get Execution Trade History
client.getExecutionTradeHistory(logResponse, 'XBT');

// Get a List of Instruments / Indices
client.getInstruments(logResponse);

// Get Active Instruments
client.getActiveInstruments(logResponse);

// Get Indices 
client.getIndices(logResponse);

// Get List of Orders
client.getOrders(logResponse);

// Create a New Orders
client.createOrder(logResponse, 'XBT7D', 1, 227.51, false, 'limit', null, 'BitMEXTestOrder');

// Close Position
client.closePosition(logResponse, 'XBT7D');

// Get Order Book
client.getOrderBook(logResponse, 'XBT7D', 100);

// Get Positions
client.getPositions(logResponse);

// Get Exchange Statistics
client.getStats(logResponse);

// Logout 
client.userLogout(logResponse);

 

 
 
 

// Display Results.
function logResponse(err, data)
{
    if (err)
    {
        console.log('error name %s', err.name);
        console.log('error message %s', err);
    }

    console.log('\ndata: %s', JSON.stringify(data));
}