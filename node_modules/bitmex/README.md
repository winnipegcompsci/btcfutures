Node.js API wrapper to the BitMEX bitcoin exchange
===============

A node.js wrapper for the [REST APIs] exposed by bitcoin exchange [BitMEX](https://www.BitMEX.com).
You will need have a registered account with [BitMEX](https://www.BitMEX.com) and generated API keys to access the private methods.


### Error handling
The first parameter to each API function is a callback function which is passed error and data objects.

The error object is an instance of [VError](https://github.com/davepacheco/node-verror) which is an extension of the standard Error object. The three main properties are
| message | a description of the error with all the available information so problems in production can be diagnosed. For example the url, http request method, parameters, error codes and messages. |
| name | the HTTP or [BitMEX error code](https://testnet.bitmex.com/api/explorer/) so specific errors can be programatically detected. |
| cause | the underlying error object. eg the error object from a failed request or json parse. Note there will be no cause error for BitMEX errors. |


### Usage

Select Production or Testnet in index.js
```javascript
    // Use this for the Live Site (Production)
    // this.server = server || 'https://bitmex.com:443';
    
    // Use This for testnet.bitmex.com (Development)
    this.server = server || 'https://testnet.bitmex.com:443';
```


Create the Client
```javascript
// replace the parameters with your API key and secret
var privateClient = new BitMEX('your-api-key', 'your-api-secret');
```

Get Chat Messages
```javascript
privateClient.getChatMessages(function(err, resp) {
    if(err) {
        console.log("Error: " + err);
    }
    
    console.log("Response: %s", resp);
}, 10, 1, true)
```

Send Chat Message
```javascript
privateClient.sendChatMessage(function(err, resp) {
    if(err) {
        console.log("Error: " + err);
    }
    
    console.log("Response: %s", resp);
}, 'Test Message');
```

Please see the examples.js file for more examples

