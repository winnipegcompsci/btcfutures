var BitVC = require('bitvc');
var clc = require('cli-color');
var util = require('util');

var api_key = "17d2e590-1dabc54f-f3141e8d-90c7ec64";
var secret = "6d575edf-37bc2167-c9764cf7-d37f9a80";

var public_client = new BitVC();
var private_client = new BitVC(api_key, secret);

/** 
 * Public Functions 
 */
public_client.getTicker(function(err, resp) {
    if(err) {
        handleError('getTicker', err);
    } else {
        handlePass('getTicker', resp);
    }
});

public_client.getFutureTicker(function(err, resp) {
    if(err) {
        handleError('getFutureTicker', err);
    } else {
        handlePass('getFutureTicker', resp);
    }
});

public_client.getExchangeRate(function(err, resp) {
    if(err) {
        handleError('getExchangeRate', err);
    } else {
        handlePass('getExchangeRate', resp);
    }
});

public_client.getDepth(function(err, resp) {
    if(err) {
        handleError('getDepth', err);
    } else {
        handlePass('getDepth', resp);
    }
});

public_client.getFutureDepth(function(err, resp) {
    if(err) {
        handleError('getFutureDepth', err);
    } else {
        handlePass('getFutureDepth', resp);
    }
});

public_client.getTrades(function(err, resp) {
    if(err) {
        handleError('getTrades', err);
    } else {
        handlePass('getTrades', resp);
    }
});

public_client.getFutureTrades(function(err, resp) {
    if(err) {
        handleError('getFutureTrades', err);
    } else {
        handlePass('getFutureTrades', resp);
    }
});
 
/**
 * Private Functions
 */ 

private_client.getUserBalance(function(err, resp) {
    if(err) {
        handleError('getUserBalance', err);
    } else {
        handlePass('getUserBalance', resp);
    }
});
 
private_client.getUserPositions(function(err, resp) {
    if(err) {
        handleError('getUserPositions', err);
    } else {
        handlePass('getUserPositions', resp);
    }
});

private_client.getUserPositionSummary(function(err, resp) {
    if(err) {
        handleError('getUserPositionSummary', err);
    } else {
        handlePass('getUserPositionSummary', resp);
    }
});

private_client.getAllCurrentOrders(function(err, resp) {
    if(err) {
        handleError('getAllCurrentOrders', err);
    } else {
        handlePass('getAllCurrentOrders', resp);
    }
});

private_client.getOrderDetails(function(err, resp) {
    if(err) {
        handleError('getOrderDetails', err);
    } else {
        handlePass('getOrderDetails', resp);
    }
});

private_client.placeOrder(function(err, resp) {
    if(err) {
        handleError('placeOrder', err);
    } else {
        handlePass('placeOrder', resp);
    }
});

private_client.cancelOrder(function(err, resp) {
    if(err) {
        handleError('cancelOrder', err);
    } else {
        handlePass('cancelOrder', resp);
    }
});

private_client.systemCloseOrder(function(err, resp) {
    if(err) {
        handleError('systemCloseOrder', err);
    } else {
        handlePass('systemCloseOrder', resp);
    }
});
 
 
/**
 * Output Functions
 */
function handleError(functionName, err) {    
    console.log(clc.red('Error: [' + functionName + ']: \n\t%s'), err);
}

function handlePass(functionName, resp) {
    console.log(clc.green('Passed: [' + functionName + ']'));
}