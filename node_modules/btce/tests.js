var BTCe = require('btce');
var clc = require('cli-color');
var util = require('util');

var api_key = "T9FQR8PS-Y5MC1P61-FI7RKYCN-PXJYTLGE-8HN3S4HN";
var secret = "41cc0e11de2cdb202fba32e17bbae11b18596eee406bb231998a58a9b6a62a14";

var public_client = new BTCe();
var private_client = new BTCe(api_key, secret);

/** 
 * Public Functions 
 */

public_client.getTicker(function(err, resp) {
    if(err) {
        handleError('getTicker', err);
    } else {
        handlePass('getTicker', resp);
    }
});

public_client.getInfo(function(err, resp) {
    if(err) {
        handleError('getInfo', err);
    } else {
        handlePass('getInfo', resp);
    }
});

public_client.getDepth(function(err, resp) {
    if(err) {
        handleError('getDepth', err);
    } else {
        handlePass('getDepth', resp);
    }
});

public_client.getTrades(function(err, resp) {
    if(err) {
        handleError('getTrades', err);
    } else {
        handlePass('getTrades', resp);
    }
}); 
 

/** 
 * Private Functions 
 */

private_client.getUserInfo(function(err, resp) {
    if(err) {
        handleError('getUserInfo', err);
    } else {
        handlePass('getUserInfo', resp);
    }
});

private_client.makeTrade(function(err, resp) {
    if(err) {
        handleError('makeTrade', err);
    } else {
        handlePass('makeTrade', resp);
    }
});

private_client.getActiveOrders(function(err, resp) {
    if(err) {
        handleError('getActiveOrders', err);
    } else {
        handlePass('getActiveOrders', resp);
    }
});

private_client.getOrderInfo(function(err, resp) {
    if(err) {
        handleError('getOrderInfo', err);
    } else {
        handlePass('getOrderInfo', resp);
    }
});

private_client.cancelOrder(function(err, resp) {
    if(err) {
        handleError('cancelOrder', err);
    } else {
        handlePass('cancelOrder', resp);
    }
});

private_client.getTradeHistory(function(err, resp) {
    if(err) {
        handleError('getTradeHistory', err);
    } else {
        handlePass('getTradeHistory', resp);
    }
});

private_client.getTransHistory(function(err, resp) {
    if(err) {
        handleError('getTransHistory', err);
    } else {
        handlePass('getTradeHistory', resp);
    }
});

private_client.withdrawCoins(function(err, resp) {
    if(err) {
        handleError('withdrawCoins',  err);
    } else {
        handlePass('withdrawCoins', resp);
    }
});

private_client.createCoupon(function(err, resp) {
    if(err) {
        handleError('createCoupon', err);
    } else {
        handlePass('createCoupon', resp);
    }
});

private_client.redeemCoupon(function(err, resp) {
    if(err) {
        handleError('redeemCoupon', err);
    } else {
        handlePass('redeemCoupon', resp);
    }
});
 
 
/**
 * Output Functions
 */
function handleError(functionName, err) {    
    console.log(clc.red('Error: [' + functionName + ']: \n\t%s'), err);
}

function handlePass(functionName, resp) {
    console.log(clc.green('Passed: [' + functionName + ']'));
}